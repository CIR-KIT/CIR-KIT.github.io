
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>No.6-8:GazeboをROSに繋ぐ (ROS Communication 編) - 九州工業大学 CIR-KIT Blog</title>
  <meta name="author" content="RyodoTanaka">

  
  <meta name="description" content="検証日時 03/02/2015 (Mon) 概要 Gazeboのチュートリアル第六弾「Connect to ROS」。
ROSはロボットの制御フレームワークです。このチュートリアルでは、GazeboとROSのインターフェースについて説明します。
今回はその「ROS Communication」 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cir-kit.github.io/blog/2015/03/02/gazebo-ros-communication/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="九州工業大学 CIR-KIT Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-59178596-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<meta property="og:title" content="No.6-8:GazeboをROSに繋ぐ (ROS Communication 編) - 九州工業大学 CIR-KIT Blog" />
<meta property="og:description" content="検証日時 03/02/2015 (Mon) 概要 Gazeboのチュートリアル第六弾「Connect to ROS」。
ROSはロボットの制御フレームワークです。このチュートリアルでは、GazeboとROSのインターフェースについて説明します。
今回はその「ROS Communication」 &hellip;" />
<meta property="og:url" content="http://cir-kit.github.io/blog/2015/03/02/gazebo-ros-communication/" />
<meta property="og:image" content="http://cir-kit.github.io/favicon.png" />

<meta property="og:site_name" content="九州工業大学 CIR-KIT Blog" />
<meta property="og:locale" content="ja_JP" />
<meta property="og:type" content="blog" />
<meta property="fb:app_id" content="930841560294053" />


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">九州工業大学 CIR-KIT Blog</a></h1>
  
    <h2>九工大自律移動ロボット製作プロジェクトCIR-KITの技術系ブログ</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="cir-kit.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/information">Information</a><li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">No.6-8:GazeboをROSに繋ぐ (ROS Communication 編)</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-03-02T21:11:56+09:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>9:11 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img src="/images/gazebo_logo.png" alt="gazebo_logo" /></p>

<h5>検証日時</h5>

<p>03/02/2015 (Mon)</p>

<h5>概要</h5>

<p>Gazeboのチュートリアル第六弾「Connect to ROS」。
ROSはロボットの制御フレームワークです。このチュートリアルでは、GazeboとROSのインターフェースについて説明します。
今回はその「ROS Communication」編です。
公式サイトを適当に翻訳しただけですので、あしからず。</p>

<h5>レベル</h5>

<p><strong>INTERMEDIATE</strong></p>

<!-- more -->


<h5>環境</h5>

<table>
<thead>
<tr>
<th style="text-align:center;"> </th>
<th style="text-align:center;"> </th>
<th style="text-align:center;"> </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> <strong>PC</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> Lenovo ThinkPad X240 </td>
</tr>
<tr>
<td style="text-align:center;"> <strong>Prosessor</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> Intel Core i7-4600U (2.10GHz, 4MB, 1600MHz) </td>
</tr>
<tr>
<td style="text-align:center;"> <strong>RAM</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> PC3-12800 DDR3L (8GB) </td>
</tr>
<tr>
<td style="text-align:center;"> <strong>OS</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> Ubuntu 14.04 LTS 64bit </td>
</tr>
<tr>
<td style="text-align:center;"> <strong>Kernel</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> 3.13.0-44-generic </td>
</tr>
<tr>
<td style="text-align:center;"> <strong>Gazebo</strong> </td>
<td style="text-align:center;"> <strong> : </strong> </td>
<td style="text-align:center;"> Version 5.0.1 </td>
</tr>
</tbody>
</table>


<h5>参考</h5>

<p><a href="http://gazebosim.org/tutorials?cat=connect_ros">GAZEBO Tutorial-Connect to ROS</a></p>

<h2>チュートリアル : ROS Communication</h2>

<p>Gazeboはユーザにシミュレートされたworldの様々な角度を取得したり修正したりできるROSのAPIを提供しています。以下のセクションでは、シミュレーションのworldと物体を操るための効果について説明します。GazeboのためのROSメッセージとサービスの完全なリストはこのチュートリアルに書いてあります。</p>

<h2>必要条件</h2>

<p>これから説明する例を実行していきたいなら、RRBotのセットアップは、<a href="http://cir-kit.github.io/blog/2015/02/17/gazebo-urdf-in-gazebo/">GazeboにおけるURDF</a>のチュートリアルで述べているということを念頭に置いてください。このチュートリアルでは、いろいろな方法を使ってコーラの缶を<strong>蹴ります</strong>。<br/>
また、Gazeboが以下のコマンドですでにlaunchされていると仮定して話を進めます。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>roscore <span class="p">&amp;</span>
</span><span class='line'>rosrun gazebo_ros gazebo
</span></code></pre></td></tr></table></div></figure>


<p>ただし、これから紹介するコマンドを打った後に、Gazeboを再起動する必要があるかもしれません。</p>

<h2><code>gazeborosapi_plugin</code>について</h2>

<p><code>gazeboros</code>パッケージと共に配置されている<code>gazeborosapi_plugin</code>は、<code>gazebo</code>と呼ばれるROSのノードを初期化します。これは、これから説明する様なROSのインターフェースを供給するために、ROSコールバックスケジュラー(<code>message passing</code>)とGazeboのインターナショナルスケジュラーを統合しています。このROSのAPIはユーザーがROSを超えたシミュレーション環境の詳細を扱うのと同じように、環境のモデルの姿勢の内観とスポーンを行うことを可能にします。<br/>
また、このプラグインは<code>gzserver</code>によってのみ読み込まれます。</p>

<h2><code>gazeborospaths_plugin</code>について</h2>

<p>２つ目の<code>gazeborospath_plugin</code>という名前のプラグインはGazeboがROSリソースを探す(例えば、ROSパッケージのパス名を解決する)ことを可能にする<code>gazebo ros</code>パッケージの中で利用可能です。<br/>
このプラグインは<code>gzserver</code>と<code>gzclient</code>の両方によって読み込まれます。</p>

<h2>Gazeboのpublishしたパラメータ</h2>

<p>Parameters</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> /usesimtime </td>
<td style="text-align:center;"> Bool </td>
<td style="text-align:center;"> ROSがpublishされたROS timeのための<code>/clock</code>トピックを使うかどうか定義します </td>
</tr>
</tbody>
</table>


<p>Gazeboは、もしシミュレーション時間が<code>/usertime</code>パラメータに使用されるべきなら、他のアプリケーション(とりわけRviz)を定義するためにROSパラメータサーバーを使用します。これは、あなたが<code>gazebo_ros</code>を起動した時に、Gazeboが自動で設定すべきことです。<br/>
もし、ROSシステムをシミュレーション同期時間と共に提供するために、<code>gazebo_ros</code>がROSの<code>/clock</code>トピックをpublishしているなら、<code>usesimtime</code>は<code>true</code>です。シミュレーション時間については<a href="http://www.ros.org/wiki/roscpp/Overview/Time">ROS C++ Time</a>をご覧ください。</p>

<h3>値をクリックする</h3>

<p>パラメータに何が設定されているか見るためには、以下のコマンドを実行してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosparam get /use_sim_time
</span></code></pre></td></tr></table></div></figure>


<h2>Gazeboが購読するトピック</h2>

<p>Topics</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/setlinkstate </td>
<td style="text-align:center;">gazebomsgs/LinkState </td>
<td style="text-align:center;"> リンクの姿勢(<code>pose/twist</code>)を設定します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/setmodelstate </td>
<td style="text-align:center;">gazebomsgs/ModelState </td>
<td style="text-align:center;"> モデルの姿勢(<code>pose/twist</code>)を設定します。</td>
</tr>
</tbody>
</table>


<h3>トピックを通じたシミュレーションにおけるモデルのPoseとTwist</h3>

<p><a href="http://www.ros.org/wiki/Topics">Topics</a>は<code>pose</code>の設定動作が完了するのを待つことなく、迅速にモデルの<code>pose</code>と<code>twist</code>を設定するのに使うことができます。そのようにするために、求められる<a href="http://www.ros.org/doc/api/gazebo/html/msg/ModelState.html">model state message</a>を<code>/gazebo/setmodelstate</code>トピックにpublishします。例えば、<code>topics</code>を通じて<code>pose</code>の設定をテストするために、オンラインデータベースからモデルをスポーンさせてコーラの缶をシミュレーションに追加します。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -database coke_can -gazebo -model coke_can -y 1
</span></code></pre></td></tr></table></div></figure>


<p>そして<code>/gazebo/setmodelstate</code>トピックにpublishすることで、コーラの缶の姿勢を設定します。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rostopic pub -r <span class="m">20</span> /gazebo/set_model_state gazebo_msgs/ModelState <span class="s1">&#39;{model_name: coke_can, pose: { position: { x: 1, y: 0, z: 2 }, orientation: {x: 0, y: 0.491983115673, z: 0, w: 0.870604813099 } }, twist: { linear: { x: 0, y: 0, z: 0 }, angular: { x: 0, y: 0, z: 0}  }, reference_frame: world }&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>すると以下のように、蹴ってくれと言わんばかりに(まあ、今から蹴るんですが)RRBotの前にコーラの缶が浮いているのを確認できるはずです。<br/>
ただし、以下のように、RRBotを追加するため、これまでに説明したroslaunchを使っています。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>roslaunch rrbot_gazebo rrbot_world.launch
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2015-03-02-gazebo-ros-communication/rrbot-test-1.png" alt="rrbot-test-1" /></p>

<h2>Gazeboがpuvlishするトピック</h2>

<p>Topics</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> /clock </td>
<td style="text-align:center;">rosgraphmsgs/Clock </td>
<td style="text-align:center;"> シミュレーション時間を<code>/usertime</code>パラメータと共にpublishします。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/linkstates </td>
<td style="text-align:center;">gazebomsgs/LinkStates </td>
<td style="text-align:center;"> シミュレーション中のすべてのリンクの状態をpublishします。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/modelstates </td>
<td style="text-align:center;">gazebo_msgs/ModelStates </td>
<td style="text-align:center;"> シミュレーション中のすべてのモデルの状態をpublishします。</td>
</tr>
</tbody>
</table>


<h3>Topicを使ってモデルとリンクの姿勢を訂正する</h3>

<p>Gazeboはworld座標系に関するシミュレーション中の物体のposeとtwistの情報を含む、<code>/gazebo/linkstates</code>と<code>/gazebo/modelstates</code>トピックをpublishしています。これらの挙動は、以下のコマンドを実行することで確認できます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rostopic <span class="nb">echo</span> -n <span class="m">1</span> /gazebo/model_states
</span></code></pre></td></tr></table></div></figure>


<p>もしくは</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rostopic <span class="nb">echo</span> -n <span class="m">1</span> /gazebo/link_states
</span></code></pre></td></tr></table></div></figure>


<p>繰り返すには、<code>link</code>が慣性、外観、衝突プロパティの定義された剛体として定義される必要があります。一方、<code>model</code>はリンクとジョイントの衝突要素として定義されます。<code>model</code>の状態は標準的な<code>link</code>の状態であります。URDFが木構造で与えられており、モデルのカノニカルリンクは自身のルートリンクによって定義されます。</p>

<h2>サービス : シミュレーション中のモデルの削除と作成</h2>

<p>以下のサービスでは、シミュレーション中のモデルを削除したり作成したりできます。:</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/spawnurdfmodel </td>
<td style="text-align:center;">gazebomsgs/SpawnModel </td>
<td style="text-align:center;"> Universal Robotic Description Format (URDF)をスポーンするために、このサービスを使います。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/spawnsdfmodel </td>
<td style="text-align:center;">gazebomsgs/SpawnModel </td>
<td style="text-align:center;"> Gazeboに記述されるSimulmulation Description Format (SDF)モデルをスポーンするために、このサービスを使います。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/deletemodel </td>
<td style="text-align:center;">gazebomsgs/DeleteModel </td>
<td style="text-align:center;"> シミュレーションからモデルを削除することができます。</td>
</tr>
</tbody>
</table>


<h3>モデルをスポーンする</h3>

<p><code>spawnmodel</code>と呼ばれるスクリプトはモデルの<code>gazeboros</code>によって呼び出されるスポーンサービスをコールするために提供されています。モデルをサービスコールを使ってスポーンするための最も実践的な方法は<code>roslaunch</code>ファイルを使うことです。詳細は、<a href="http://cir-kit.github.io/blog/2015/02/15/gazebo-using-roslaunch/">roslaunchを使う</a>というチュートリアルに書いてあります。URDFやSDFをGazeboに追加するために<code>spawn_model</code>を使う方法はたくさんあります。以下はそのうちのいくつかの例です。:<br/>
URDFをファイルからスポーンする - まず最初に<code>.Xacro</code>ファイルを<code>.xml</code>ファイルに変換し、スポーンします。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun xacro xacro <span class="sb">`</span>rospack find rrbot_description<span class="sb">`</span>/urdf/rrbot.xacro &gt;&gt; <span class="sb">`</span>rospack find rrbot_description<span class="sb">`</span>/urdf/rrbot.xml
</span><span class='line'>rosrun gazebo_ros spawn_model -file <span class="sb">`</span>rospack find rrbot_description<span class="sb">`</span>/urdf/rrbot.xml -urdf -y <span class="m">1</span> -model rrbot1 -robot_namespace rrbot1
</span></code></pre></td></tr></table></div></figure>


<p><code>roslaunch</code>と<code>xacro</code>を使ったパラメータサーバーからのURDF: <a href="http://cir-kit.github.io/blog/2015/02/15/gazebo-using-roslaunch/">roslaunchを使う</a>をご覧ください。<br/>
ローカルモデルデータベースからのSDF:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -file <span class="sb">`</span><span class="nb">echo</span> <span class="nv">$GAZEBO_MODEL_PATH</span><span class="sb">`</span>/coke_can/model.sdf -sdf -model coke_can1 -y 0.2 -x -0.3
</span></code></pre></td></tr></table></div></figure>


<p>オンラインモデルデータベースからのSDF:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -database coke_can -sdf -model coke_can3 -y 2.2 -x -0.3
</span></code></pre></td></tr></table></div></figure>


<p>名前空間、<code>trimesh</code>プロパティ、ジョイントポジション、RPYオリエンテーションを含む<code>spawn_model</code>のための利用可能な引数をすべて見るには、以下を実行してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -h
</span></code></pre></td></tr></table></div></figure>


<h3>モデルを削除する</h3>

<p>すでにGazeboの中にあるモデルの削除は、物体に与えたモデルの名前を覚えている限りは簡単です。もし、RRBotを前のセクションで記述したように、<code>rrbot1</code>と名付けているなら、以下のコマンドでそれを削除できます。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/delete_model <span class="s1">&#39;{model_name: rrbot1}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>サービス : 状態とプロパティのセッティング</h2>

<p>以下のサービスでは、シミュレーション中の物体やシミュレーションについての状態やプロパティの情報を設定することができます。:</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/setlinkproperties </td>
<td style="text-align:center;">gazebomsgs/SetLinkProperties</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setphysicsproperties </td>
<td style="text-align:center;">gazebomsgs/SetPhysicsProperties</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setmodelstate </td>
<td style="text-align:center;">gazebomsgs/SetModelState</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setmodelconfiguration </td>
<td style="text-align:center;">gazebomsgs/SetModelConfiguration </td>
<td style="text-align:center;"> モデルのジョイントポジションをダイナミクスなしで設定できるようになります。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/setjointproperties </td>
<td style="text-align:center;">gazebomsgs/SetJointProperties</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setlinkstate </td>
<td style="text-align:center;">gazebomsgs/SetLinkState</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setlinkstate </td>
<td style="text-align:center;">gazebomsgs/LinkState</td>
<td></td>
</tr>
<tr>
<td style="text-align:center;"> ~/setmodelstate </td>
<td style="text-align:center;">gazebomsgs/ModelState</td>
<td></td>
</tr>
</tbody>
</table>


<h3>モデルの姿勢を設定する例</h3>

<p><code>/gazebo/setmodelstate</code>サービスを使い、RRBotでコーラの缶を蹴ってみましょう !<br/>
もし、まだシミュレーションにコーラの缶を追加していないのなら、以下のコマンドを実行してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -database coke_can -gazebo -model coke_can -y 1
</span></code></pre></td></tr></table></div></figure>


<p>これは、Gazeboもしくはオンラインモデルデータベース(インターネット接続が必要です)を通じて利用可能になるようパッケージされていなければなりません。尚、コーラの缶がどこにあっても問題はありません。<br/>
続いて、コーラの缶をRRBotのポジションに動かすためのサービスリクエストをコールしましょう。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/set_model_state <span class="s1">&#39;{model_state: { model_name: coke_can, pose: { position: { x: 0.3, y: 0.2 ,z: 0 }, orientation: {x: 0, y: 0.491983115673, z: 0, w: 0.870604813099 } }, twist: { linear: {x: 0.0 , y: 0 ,z: 0 } , angular: { x: 0.0 , y: 0 , z: 0.0 } } , reference_frame: world } }&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>すると、以下のようになるはずです。</p>

<p><img src="/images/2015-03-02-gazebo-ros-communication/rrbot-test-2.png" alt="rrobt-test-2" /></p>

<p>続いて、RRBotを以下のコマンドを使って動かしてみましょう。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/set_model_state <span class="s1">&#39;{model_state: { model_name: rrbot, pose: { position: { x: 1, y: 1 ,z: 10 }, orientation: {x: 0, y: 0.491983115673, z: 0, w: 0.870604813099 } }, twist: { linear: {x: 0.0 , y: 0 ,z: 0 } , angular: { x: 0.0 , y: 0 , z: 0.0 } } , reference_frame: world } }&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>うまく行けば、コーラの缶がどこかに飛んでゆくでしょう。(゜Д゜)ノ&#8221;<br/>
うまいう行かなかったら、やり直してみましょう。これはチュートリアルなんですから。<br/>
ちなみに、以下の動画みたいになります。以下の動画では、缶が転がってます。私も何回かやりましたが、缶が気持ちよく飛んでゆくこともありましたw</p>

<p>&lt; div class=&ldquo;youtube-container&rdquo;></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/A8tGFOlgRdg" frameborder="0" allowfullscreen></iframe>


<p></div></p>

<h2>サービス : 状態とプロパティの取得</h2>

<p>以下のサービスでは、シミュレーション中の物体やシミュレーションについての状態やプロパティの情報を取得することができます。:</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/getmodelproperties </td>
<td style="text-align:center;">gazebomsgs/GetModelProperties</td>
<td style="text-align:center;"> シミュレーション中のモデルのプロパティを返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getmodelstate </td>
<td style="text-align:center;">gazebomsgs/GetModelState </td>
<td style="text-align:center;"> シミュレーション中のモデルの状態を返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getworldproperties </td>
<td style="text-align:center;">gazebomsgs/GetWorldProperties </td>
<td style="text-align:center;"> シミュレーションworldのプロパティを返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getjointproperties </td>
<td style="text-align:center;">gazebomsgs/GetJointProperties </td>
<td style="text-align:center;"> シミュレーション中のジョイントのプロパティを返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getlinkproperties </td>
<td style="text-align:center;">gazebomsgs/GetLinkProperties </td>
<td style="text-align:center;"> シミュレーション中のリンクのプロパティを返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getlinkstate </td>
<td style="text-align:center;">gazebomsgs/GetLinkState </td>
<td style="text-align:center;"> シミュレーション中のリンクの状態を返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/getphysicsproperties </td>
<td style="text-align:center;">gazebomsgs/GetPhysicsProperties </td>
<td style="text-align:center;"> シミュレーション中で使用される物理エンジンのプロパティを返します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/linkstates </td>
<td style="text-align:center;">gazebomsgs/LinkStates </td>
<td style="text-align:center;"> world座標の完全なリンクの状態をpublishします。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/modelstates </td>
<td style="text-align:center;">gazebo_msgs/ModelStates </td>
<td style="text-align:center;"> world座標の完全なモデルの状態をpublishします。</td>
</tr>
</tbody>
</table>


<h2>注意</h2>

<p>Gazebo中のリンクの名前は<code>modelname::body_name</code>の名前表記にスコープされます。</p>

<h3>モデルの状態を取得する例</h3>

<p>さて、すでにコーラの缶を<strong>蹴った</strong>ことでしょう。今度は、それがどのくらい飛んだのか知りたいですね。これまでの例を使い(同じシミュレーションを実行して)、以下のサービスコールを使ってコーラの缶の<code>pose</code>と<code>twist</code>を取得しましょう。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/get_model_state <span class="s1">&#39;{model_name: coke_can}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>この結果は、ロボットの蹴った具合によって変わりますが、以下のような感じになるはずです。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>pose:
</span><span class='line'>  position:
</span><span class='line'>    x: -33.4741996929
</span><span class='line'>    y: 1.72965811349
</span><span class='line'>    z: 0.0715116701823
</span><span class='line'>  orientation:
</span><span class='line'>    x: 0.52144600413
</span><span class='line'>    y: 0.478438115917
</span><span class='line'>    z: -0.471063379854
</span><span class='line'>    w: -0.526583636448
</span><span class='line'>twist:
</span><span class='line'>  linear:
</span><span class='line'>    x: 5.74579911953e-07
</span><span class='line'>    y: 0.000217124920081
</span><span class='line'>    z: 9.67915822705e-06
</span><span class='line'>  angular:
</span><span class='line'>    x: -0.0029562892652
</span><span class='line'>    y: 7.77750570372e-06
</span><span class='line'>    z: 4.16767016512e-05
</span><span class='line'>success: True
</span></code></pre></td></tr></table></div></figure>


<p>私のロボットは 33 [m]飛ばしました。あなたのはどうでしたか ?</p>

<h3>シミュレーションworldとオブジェクトプロパティを取得する</h3>

<p>以下のコマンドで、worldの中のモデルのリスト(<code>ground_plane</code>, <code>coke cane</code>, <code>rrbot</code>)を取得することができます。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/get_world_properties
</span></code></pre></td></tr></table></div></figure>


<p>すると、以下のような結果が得られるはずです。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sim_time: 59.62
</span><span class='line'>model_names: <span class="o">[</span><span class="s1">&#39;ground_plane&#39;</span>, <span class="s1">&#39;rrbot&#39;</span>, <span class="s1">&#39;coke_can&#39;</span><span class="o">]</span>
</span><span class='line'>rendering_enabled: True
</span><span class='line'>success: True
</span><span class='line'>status_message: GetWorldProperties: got properties
</span></code></pre></td></tr></table></div></figure>


<p>また、以下のコマンドで特定のモデルの詳細を取得できます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/get_model_properties <span class="s1">&#39;{model_name: rrbot}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>すると、以下の様な結果が得られるはずです。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>parent_model_name: <span class="s1">&#39;&#39;</span>
</span><span class='line'>canonical_body_name: <span class="s1">&#39;&#39;</span>
</span><span class='line'>body_names: <span class="o">[</span><span class="s1">&#39;link1&#39;</span>, <span class="s1">&#39;link2&#39;</span>, <span class="s1">&#39;link3&#39;</span><span class="o">]</span>
</span><span class='line'>geom_names: <span class="o">[</span><span class="s1">&#39;link1_collision&#39;</span>, <span class="s1">&#39;link2_collision&#39;</span>, <span class="s1">&#39;link3_collision&#39;</span>, <span class="s1">&#39;link3_collision_camera_link&#39;</span>, <span class="s1">&#39;link3_collision_hokuyo_link&#39;</span><span class="o">]</span>
</span><span class='line'>joint_names: <span class="o">[</span><span class="s1">&#39;fixed&#39;</span>, <span class="s1">&#39;joint1&#39;</span>, <span class="s1">&#39;joint2&#39;</span><span class="o">]</span>
</span><span class='line'>child_model_names: <span class="o">[]</span>
</span><span class='line'>is_static: False
</span><span class='line'>success: True
</span><span class='line'>status_message: GetModelProperties: got properties
</span></code></pre></td></tr></table></div></figure>


<h2>サービス : 力のコントロール</h2>

<p>以下のサービスでは、シミュレーション中のボディやジョイントへの力とねじりを適用することができます。</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/applybodywrench </td>
<td style="text-align:center;">gazebomsgs/ApplyBodyWrench </td>
<td style="text-align:center;"> シミュレーション中のボディにねじりを適用します。同じボディに適用されるすべてのアクティブなねじりは累積します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/applyjointeffort </td>
<td style="text-align:center;">gazebomsgs/ApplyJointEffort </td>
<td style="text-align:center;"> シミュレーション中のジョイントへの力を適用します。同じジョイントに適用されるすべてのアクティブな力は累積します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/clearjointforces </td>
<td style="text-align:center;">gazebomsgs/ClearJointForces </td>
<td style="text-align:center;"> ジョイントへ適用されている力をクリアします。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/clearbodywrenches </td>
<td style="text-align:center;">gazebomsgs/ClearBodyWrenches </td>
<td style="text-align:center;"> ボディへ適用されているねじりをクリアします。</td>
</tr>
</tbody>
</table>


<h3>ねじりをリンクに適用する</h3>

<p>Gazeboのボディへのねじりの適用を説明するために、重力をなくして物体をスポーンさせてみましょう。すでにコーラの缶が追加されていることを確認してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosrun gazebo_ros spawn_model -database coke_can -gazebo -model coke_can -y 1
</span></code></pre></td></tr></table></div></figure>


<p>続いて、<code>/gazebo/setphysicsproperties</code>サービスコールを送り、すべての軸の重力をなくしましょう。:</p>

<p>Then to turn off gravity send a service call to /gazebo/setphysicsproperties with no gravity in any of the axis:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/set_physics_properties <span class="s2">&quot;</span>
</span><span class='line'><span class="s2">time_step: 0.001</span>
</span><span class='line'><span class="s2">max_update_rate: 1000.0</span>
</span><span class='line'><span class="s2">gravity: </span>
</span><span class='line'><span class="s2">  x: 0.0</span>
</span><span class='line'><span class="s2">  y: 0.0</span>
</span><span class='line'><span class="s2">  z: 0.0</span>
</span><span class='line'><span class="s2">ode_config: </span>
</span><span class='line'><span class="s2">  auto_disable_bodies: False</span>
</span><span class='line'><span class="s2">  sor_pgs_precon_iters: 0</span>
</span><span class='line'><span class="s2">  sor_pgs_iters: 50</span>
</span><span class='line'><span class="s2">  sor_pgs_w: 1.3</span>
</span><span class='line'><span class="s2">  sor_pgs_rms_error_tol: 0.0</span>
</span><span class='line'><span class="s2">  contact_surface_layer: 0.001</span>
</span><span class='line'><span class="s2">  contact_max_correcting_vel: 100.0</span>
</span><span class='line'><span class="s2">  cfm: 0.0</span>
</span><span class='line'><span class="s2">  erp: 0.2</span>
</span><span class='line'><span class="s2">  max_contacts: 20&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>/gazebo/applybodywerch</code>サービスを呼び、コーラの缶の原点に１秒間、0.01 [Nm]のトルクを適用しましょう。すると、コーラの缶が、X軸に対して正の方向にスピンするのが確認できるはずです。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/apply_body_wrench <span class="s1">&#39;{body_name: &quot;coke_can::link&quot; , wrench: { torque: { x: 0.01, y: 0 , z: 0 } }, start_time: 10000000000, duration: 1000000000 }&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>今度は、コーラの缶の原点に1秒間、-0.01 [Nm]のトルクを適用し、缶の回転を止めましょう。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/apply_body_wrench <span class="s1">&#39;{body_name: &quot;coke_can::link&quot; , wrench: { torque: { x: -0.01, y: 0 , z: 0 } }, start_time: 10000000000, duration: 1000000000 }&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>通常、負のトルクは、曖昧な定義であることが多いです。すべてのアクティブなねじりをボディに適用するには、以下のようなコマンドを実行してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/clear_body_wrenches <span class="s1">&#39;{body_name: &quot;coke_can::link&quot;}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>シミュレーション中のジョイントに力を適用する</h3>

<p>ジョイントにトルクを適用するために、<code>/gazebo/applyjointeffort</code>をコールしてください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/apply_joint_effort <span class="s2">&quot;joint_name: &#39;joint2&#39;</span>
</span><span class='line'><span class="s2">effort: 10.0</span>
</span><span class='line'><span class="s2">start_time:</span>
</span><span class='line'><span class="s2">  secs: 0</span>
</span><span class='line'><span class="s2">  nsecs: 0</span>
</span><span class='line'><span class="s2">duration:</span>
</span><span class='line'><span class="s2">  secs: 10</span>
</span><span class='line'><span class="s2">  nsecs: 0&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>するとリンクが回り始めるはずです。<br/>
特定のジョイントの力をクリアするためには、以下のコマンドをコールしてください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call /gazebo/clear_joint_forces <span class="s1">&#39;{joint_name: joint2}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>サービス : シミュレーションコントロール</h2>

<p>以下のサービスでは、シミュレーション中の物理エンジンを一時停止したり解除したリアできます。:</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> 名前 </th>
<th style="text-align:center;"> 型 </th>
<th style="text-align:center;"> 説明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> ~/pausephysics </td>
<td style="text-align:center;">stdsrvs/Empty </td>
<td style="text-align:center;"> 物理エンジンのアップデートを一時停止します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/unpausephysics </td>
<td style="text-align:center;">stdsrvs/Empty </td>
<td style="text-align:center;"> 物理エンジンのアップデートを再開します。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/resetsimulation </td>
<td style="text-align:center;">stdsrvs/Empty </td>
<td style="text-align:center;"> モデルのポーズをリセットします。</td>
</tr>
<tr>
<td style="text-align:center;"> ~/resetworld </td>
<td style="text-align:center;">stdsrvs/Empty </td>
<td style="text-align:center;"> 時間を含むすべてのシミュレーションをリセットします。</td>
</tr>
</tbody>
</table>


<h3>物理エンジンのアップデートを一時停止する</h3>

<p>飛んでゆくコーラの缶のナイスなスクリーンショットを撮りたいとしましょう。いや、そうだと言ってください。そんな時には、以下のコマンドをコールすることで、物理エンジンを一時停止することができます。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/pause_physics
</span></code></pre></td></tr></table></div></figure>


<p>シミュレーションが一時停止するとき、シミュレーション時間が停止し、物体も静的になります。しかし、Gazeboの内部アップデートループ(カスタムのダイナミクスプラグインアップデートなど)は依然として動いており、シミュレーション時間は変わっていません。これは、シミュレーションタイムをアップデートしないことで抑制されているのです。シミュレーションを再開するために、以下のコマンドをコールして物理エンジンを再開してください。:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rosservice call gazebo/unpause_physics
</span></code></pre></td></tr></table></div></figure>


<h2>次のステップ</h2>

<p>Gazeboのための独自のROSプラグインの作り方について学んでください。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">RyodoTanaka</span></span>

      




<time class='entry-date' datetime='2015-03-02T21:11:56+09:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>9:11 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/gazebo/'>gazebo</a>, <a class='category' href='/blog/categories/ros/'>ros</a>, <a class='category' href='/blog/categories/ubuntu/'>ubuntu</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://cir-kit.github.io/blog/2015/03/02/gazebo-ros-communication/" data-via="" data-counturl="http://cir-kit.github.io/blog/2015/03/02/gazebo-ros-communication/" >Tweet</a>
  
  
  
  
  <div class="fb-comments" data-href="http://cir-kit.github.io" data-num-posts="2" data-width="500"></div>
  
  

</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/02/26/greeting-arc/" title="Previous Post: 新団体-ARC-設立">&laquo; 新団体-ARC-設立</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/03/04/gazebo-ros-plugin/" title="Next Post: No.6-9:GazeboをROSに繋ぐ (ROS Plugin 編)">No.6-9:GazeboをROSに繋ぐ (ROS Plugin 編) &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    




<section>
<div class="fb-like-box" data-href="https://www.facebook.com/kyutechcirkit" data-width="210" data-height="400" data-colorscheme="light" data-show-faces="false" data-header="false" data-stream="true" data-show-border="false"></div>
</section>

<section>
  <h1>Categories</h1>
    <ul id="category-list">
      <li><a href='/blog/categories/arduino/'>arduino (2)</a></li><li><a href='/blog/categories/build-a-robot/'>build a robot (10)</a></li><li><a href='/blog/categories/build-a-world/'>build a world (5)</a></li><li><a href='/blog/categories/cir-kit/'>cir-kit (3)</a></li><li><a href='/blog/categories/gazebo/'>gazebo (34)</a></li><li><a href='/blog/categories/getstarted/'>getstarted (4)</a></li><li><a href='/blog/categories/install/'>install (2)</a></li><li><a href='/blog/categories/joystick-driver/'>joystick_driver (3)</a></li><li><a href='/blog/categories/plugin/'>plugin (1)</a></li><li><a href='/blog/categories/robot/'>robot (1)</a></li><li><a href='/blog/categories/ros/'>ros (15)</a></li><li><a href='/blog/categories/rosserial/'>rosserial (2)</a></li><li><a href='/blog/categories/sensors/'>sensors (2)</a></li><li><a href='/blog/categories/tools-and-utilities/'>tools and utilities (1)</a></li><li><a href='/blog/categories/turtlesim/'>turtlesim (2)</a></li><li><a href='/blog/categories/ubuntu/'>ubuntu (35)</a></li>
    </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/07/06/new-machine/">New_machine</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/04/logo/">CIR-KITロゴ　完成！</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/15/make-turtlesim-teleop/">ジョイスティックで亀を泳がせる（機動編）</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/15/make-first-robot-driver-on-ros/">CIR-KITの1号機ドライバ作成 on ROS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/13/turtlesim-with-joystick/">ジョイスティックで亀を泳がせる(準備編)</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - RyodoTanaka -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&appId=930841560294053&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
